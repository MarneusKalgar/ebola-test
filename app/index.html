<!DOCTYPE html>
<html lang="ru" ng-app="testApp">
  <head>
    <title>ebola test</title>
    <meta charset="utf-8">
    <meta content="igor chernobay" name="author">
    <meta content="ebola test" name="description">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="HandheldFriendly" content="true">
    <meta name="format-detection" content="telephone=no">
    <meta content="IE=edge" http-equiv="X-UA-Compatible">
    <link rel="shortcut icon" href="img/favicon/favicon.png" type="image/x-icon">
    <link rel="apple-touch-icon" href="img/favicon/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="72x72" href="img/favicon/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="114x114" href="img/favicon/apple-touch-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="144x144" href="img/favicon/apple-touch-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="img/favicon/apple-touch-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="img/favicon/apple-touch-icon-180x180.png">
    <!-- build:css css/main.css-->
    <link rel="stylesheet" href="css/main.css">
    <!-- endbuild-->
  </head>
  <body class="page" ng-controller="renderUsersCtrl as renderUsers">
    <div class="preloader" id="preloader" ng-class="{'preloader--isHidden': renderUsers.isReady}">
      <div class="preloader__loader">
      </div>
    </div>
    <div class="page__wrap">
      <div class="page__col page__col--controls">
        <div class="controls">
          <ul class="controls__list">
            <li class="controls__item">
              <svg class="controls__icon">
              </svg>
              <p class="controls__desc">lorem
              </p>
            </li>
            <li class="controls__item">
              <svg class="controls__icon">
              </svg>
              <p class="controls__desc">lorem
              </p>
            </li>
            <li class="controls__item">
              <svg class="controls__icon">
              </svg>
              <p class="controls__desc">lorem
              </p>
            </li>
            <li class="controls__item">
              <svg class="controls__icon">
              </svg>
              <p class="controls__desc">lorem
              </p>
            </li>
            <li class="controls__item">
              <svg class="controls__icon">
              </svg>
              <p class="controls__desc">lorem
              </p>
            </li>
          </ul>
        </div>
      </div>
      <div class="page__col page__col--tables">
        <section class="tables">
          <ul class="tables__tabs">
            <li class="tables__tab-item tables__tab-item--isActive">Клиенты
            </li>
            <li class="tables__tab-item">Новости
            </li>
          </ul>
          <div class="tables__actions">
            <button class="tables__btn" type="button">
              <svg class="tables__icon">
              </svg>
            </button>
            <button class="tables__btn" type="button">
              <svg class="tables__icon">
              </svg>
            </button>
          </div>
          <div class="tables__container">
            <div class="tables__item">
              <div class="tables__wrapper row">
                <div class="tables__col tables__col--info">
                  <ul class="tables__info-list">
                    <li class="tables__info-item">Все категории
                    </li>
                    <li class="tables__info-item tables__info-item--isOpened">Еще категория
                      <ul class="tables__info-sublist">
                        <li class="tables__info-subitem">Подкатегория
                        </li>
                        <li class="tables__info-subitem">Подкатегория
                        </li>
                      </ul>
                    </li>
                  </ul>
                </div>
                <div class="tables__col tables__col--table">
                  <table class="tables__table">
                    <thead class="tables__table-header">
                      <tr class="tables__row tables__row--head">
                        <th class="tables__head" ng-click="renderUsers.sortType ='last_name'; renderUsers.sortDir = !renderUsers.sortDir">Фамилия<span class="tables__icon-caret tables__icon-caret--up" ng-show="renderUsers.sortType == 'last_name' &amp;&amp; renderUsers.sortDir"></span><span class="tables__icon-caret tables__icon-caret--down" ng-show="renderUsers.sortType == 'last_name' &amp;&amp; !renderUsers.sortDir"></span>
                        </th>
                        <th class="tables__head" ng-click="renderUsers.sortType ='first_name'; renderUsers.sortDir = !renderUsers.sortDir">Имя<span class="tables__icon-caret tables__icon-caret--up" ng-show="renderUsers.sortType == 'first_name' &amp;&amp; renderUsers.sortDir"></span><span class="tables__icon-caret tables__icon-caret--down" ng-show="renderUsers.sortType == 'first_name' &amp;&amp; !renderUsers.sortDir"></span>
                        </th>
                        <th class="tables__head" ng-click="renderUsers.sortType ='patronymic_name'; renderUsers.sortDir = !renderUsers.sortDir">Отчество<span class="tables__icon-caret tables__icon-caret--up" ng-show="renderUsers.sortType == 'patronymic_name' &amp;&amp; renderUsers.sortDir"></span><span class="tables__icon-caret tables__icon-caret--down" ng-show="renderUsers.sortType == 'patronymic_name' &amp;&amp; !renderUsers.sortDir"></span>
                        </th>
                        <th class="tables__head" ng-click="renderUsers.sortType ='discount'; renderUsers.sortDir = !renderUsers.sortDir">Скидка<span class="tables__icon-caret tables__icon-caret--up" ng-show="renderUsers.sortType == 'discount' &amp;&amp; renderUsers.sortDir"></span><span class="tables__icon-caret tables__icon-caret--down" ng-show="renderUsers.sortType == 'discount' &amp;&amp; !renderUsers.sortDir"></span>
                        </th>
                      </tr>
                      <tr class="tables__row">
                        <td class="tables__filter"><input class="tables__input" type="text" ng-model="renderUsers.searchLastName" ng-focus="renderUsers.count = renderUsers.count + 1; renderUsers.doSearch()" ng-init="renderUsers.count = 0" ng-blur="renderUsers.count = 0; renderUsers.searchLastName=''"/>
                        </td>
                        <td class="tables__filter"><input class="tables__input" type="text" ng-model="renderUsers.searchFirstName" ng-focus="renderUsers.count = renderUsers.count + 1; renderUsers.doSearch(renderUsers.count)" ng-init="renderUsers.count = 0" ng-blur="renderUsers.count = 0; renderUsers.searchFirstName=''"/>
                        </td>
                        <td class="tables__filter"><input class="tables__input" type="text" ng-model="renderUsers.searchPatronymicName" ng-focus="renderUsers.count = renderUsers.count + 1; renderUsers.doSearch()" ng-init="renderUsers.count = 0" ng-blur="renderUsers.count = 0; renderUsers.searchPatronymicName=''"/>
                        </td>
                        <td class="tables__filter"><input class="tables__input" type="text" ng-model="renderUsers.searchDiscount" ng-focus="renderUsers.count = renderUsers.count + 1; renderUsers.doSearch()" ng-init="renderUsers.count = 0" ng-blur="renderUsers.count = 0; renderUsers.searchDiscount=''"/>
                        </td>
                      </tr>
                    </thead>
                    <tbody class="tables__table-body">
                      <!--this set represents users array based on page number-->
                      <tr class="tables__row tables__row--cell" ng-repeat="u in renderUsers.users | orderBy: renderUsers.sortType: renderUsers.sortDir" ng-show="!renderUsers.count">
                        <td class="tables__cell">{{u.last_name}}
                        </td>
                        <td class="tables__cell">{{u.first_name}}
                        </td>
                        <td class="tables__cell">{{u.patronymic_name}}
                        </td>
                        <td class="tables__cell">{{u.discount}}%
                        </td>
                      </tr>
                      <!--this set represents allUsers array-->
                      <tr class="tables__row tables__row--cell" ng-repeat="user in renderUsers.allUsers | filter: {last_name: renderUsers.searchLastName, first_name: renderUsers.searchFirstName, patronymic_name: renderUsers.searchPatronymicName, discount: renderUsers.searchDiscount}" ng-show="renderUsers.count">
                        <td class="tables__cell">{{user.last_name}}
                        </td>
                        <td class="tables__cell">{{user.first_name}}
                        </td>
                        <td class="tables__cell">{{user.patronymic_name}}
                        </td>
                        <td class="tables__cell">{{user.discount}}%
                        </td>
                      </tr>
                    </tbody>
                  </table>
                  <ul class="tables__pagination" ng-class="{'tables__pagination--isInvisible' : renderUsers.count }">
                    <li class="tables__pagination-item" data="{{pagItem}}" ng-repeat="pagItem in renderUsers.pags" ng-click="renderUsers.getUsers($event); renderUsers.select(pagItem)" ng-class="{'tables__pagination-item--isActive': renderUsers.isActive(pagItem)}">{{pagItem}}
                    </li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
        </section>
      </div>
    </div>
    <!-- build:js js/vendor.js-->
    <script src="libs/angular/angular.min.js"></script>
    <!-- endbuild-->
    <!-- build:js js/main.js-->
    <script src="js/app.js"></script>
    <script src="js/services/getDataService.js"></script>
    <script src="js/controllers/renderUsersCtrl.js"></script>
    <script src="js/controllers/testCtrl.js"></script>
    <!-- endbuild-->
  </body>
</html>